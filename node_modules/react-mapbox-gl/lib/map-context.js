"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var react_1 = tslib_1.__importDefault(require("react"));
var _a = react_1.default.createContext({}), Provider = _a.Provider, MapConsumer = _a.Consumer;
exports.MapConsumer = MapConsumer;
var MapProvider = (function (_super) {
    tslib_1.__extends(MapProvider, _super);
    function MapProvider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.state = { map: _this.props.map };
        return _this;
    }
    MapProvider.getDerivedStateFromProps = function (nextProps, state) {
        if (nextProps.map && nextProps.map !== state.map) {
            return { map: nextProps.map };
        }
        return null;
    };
    MapProvider.prototype.render = function () {
        return react_1.default.createElement(Provider, { value: this.state }, this.props.children);
    };
    return MapProvider;
}(react_1.default.Component));
exports.MapProvider = MapProvider;
var withMapContext = function (WrappedComponent) { return function (props) { return (react_1.default.createElement(MapConsumer, null, function (_a) {
    var map = _a.map;
    return react_1.default.createElement(WrappedComponent, tslib_1.__assign({}, props, { map: map }));
})); }; };
exports.withMapContext = withMapContext;
//# sourceMappingURL=map-context.js.map